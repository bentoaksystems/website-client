<div *ngIf="!waiting">
  <div *ngIf="!isMobile" style="position: relative; overflow: hidden">
    <img src="{{homeTopSection.backgroundPic}}" style="display: block">
    <h1 class="t t-light t-light-hover title">{{'Bent Oak Systems'}}</h1>
    <div class="t t-light t-light-hover intro" [innerHTML]="intro">
    </div>
  </div>
  <div *ngIf="isMobile">
    <div>
      <img src="{{homeTopSection.backgroundPic}}" style="width: 100%">
    </div>
    <div class="page-section">
      <div class="section-block content" [innerHTML]="intro"></div>
    </div>
  </div>

  <!--Our Process-->
  <div style="text-align: center; margin-bottom: 10px">
    <h3 class="t t-primary toolBox">Our Process</h3>
  </div>
  <div class="jumbotron square" fxLayout="row" fxLayout.sm="column"
       fxLayout.xs="column" fxLayoutAlign="center center">
    <div fxFlex="50%" class="content">
      <img class="img-process" src="../../../assets/images/process.jpg">
    </div>

    <div class="jumbotron square" fxLayout="row" fxLayout.sm="column"
         fxLayout.xs="column" fxLayoutAlign="center center">
        <div fxFlex="50" class="content">
            <img class="img-process" src="../../../assets/images/process.jpg">
        </div>
        <div fxFlex="5"></div>
        <div fxFlex="50" [class.vertical-space]='isMobile'>
            <mat-accordion class="example-headers-align">
                <mat-expansion-panel *ngFor="let p of process; let i = index;"
                                     [expanded]="step === i" (opened)="setStep(i)" hideToggle="true">
                    <mat-expansion-panel-header>
                        <mat-panel-title>
                            {{ p.title}}
                        </mat-panel-title>
                        <mat-icon>{{p.icon}}</mat-icon>
                    </mat-expansion-panel-header>
                    <mat-panel-description>
                        {{p.description}}
                    </mat-panel-description>
                    <mat-action-row>
                        <button *ngIf="i !== 0" mat-button color="warn" (click)="prevStep()">Previous</button>
                        <button *ngIf="i !== process.length-1" mat-button color="accent" (click)="nextStep()">Next
                        </button>
                        <button *ngIf="i === process.length-1" mat-button color="accent" (click)="nextStep()">End
                        </button>
                    </mat-action-row>
                </mat-expansion-panel>
            </mat-accordion>
        </div>
    </div>
  </div>
</div>

<!--our Toolbox-->
<div fxLayout="row" fxLayout.sm="column" fxLayout.xs="column" fxLayoutAlign="center center">
  <div fxFlex="90" class="center">
    <div style="text-align: center;">
      <h3 class="t t-primary toolBox">Our Toolbox</h3>
    </div>
    <mat-card *ngFor="let image of showMoreFlag ? images : less_images"
              class="primary-lighter container shadow tiny">
      <div style="height: 100%; display: block">
        <div style=" height: 50%;"><img (click)="openPage(image.link)" src="{{image.source}}"
                                        alt="{{image.title}}"
                                        class="image"/></div>
        <div style="height: 50%" class="t t-little">{{image.description}}</div>
      </div>
    </mat-card>
  </div>
</div>
<div style="text-align: center; margin-bottom: 15px">
  <button mat-raised-button class="primary button" label="Show More" (click)="showMoreFlag = !showMoreFlag">
    <span class="t t-accent t-accent-hover">{{showMoreFlag ? 'Show Less' : 'Show More'}}</span>
  </button>
</div>
<div *ngIf="waiting">
  <mat-spinner class="align-spinner"></mat-spinner>
</div>
